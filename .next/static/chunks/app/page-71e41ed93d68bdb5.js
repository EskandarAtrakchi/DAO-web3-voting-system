(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{604:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1018).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},6185:(e,t,a)=>{"use strict";a.d(t,{DashboardStats:()=>c});var s=a(8081),r=a(2149),l=a(8949),n=a(6810),o=a(7687);let i=(0,a(1018).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function c(){let{contract:e,isConnected:t}=(0,l.$)(),[a,n]=(0,r.useState)({totalProposals:0,activeProposals:0,totalMembers:0,avgParticipation:0}),[c,d]=(0,r.useState)({balance:BigInt(0),inflow:BigInt(0),outflow:BigInt(0)}),[m,f]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async function(){if(e&&t)try{f(!0);try{let t=await e.getDAOStats();n({totalProposals:Number(t[0]),activeProposals:Number(t[1]),totalMembers:Number(t[2]),avgParticipation:Number(t[3])});let a=await e.getTreasuryInfo();d({balance:a[0],inflow:a[1],outflow:a[2]})}catch(e){console.error("Error fetching contract data:",e),n({totalProposals:0,activeProposals:0,totalMembers:0,avgParticipation:0}),d({balance:BigInt(0),inflow:BigInt(0),outflow:BigInt(0)})}}catch(e){console.error("Error fetching stats:",e)}finally{f(!1)}})()},[e,t]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{title:"Total Proposals",value:m?(0,s.jsx)(i,{className:"h-4 w-4 animate-spin"}):a.totalProposals.toString()}),(0,s.jsx)(u,{title:"Active Proposals",value:m?(0,s.jsx)(i,{className:"h-4 w-4 animate-spin"}):a.activeProposals.toString()}),(0,s.jsx)(u,{title:"Treasury Balance",value:m?(0,s.jsx)(i,{className:"h-4 w-4 animate-spin"}):"".concat((0,o.ck)(c.balance)," ETH")}),(0,s.jsx)(u,{title:"Avg Available Pools",value:m?(0,s.jsx)(i,{className:"h-4 w-4 animate-spin"}):a.totalMembers.toString()})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{title:"Total Proposals",value:"-"}),(0,s.jsx)(u,{title:"Active Proposals",value:"-"}),(0,s.jsx)(u,{title:"Treasury Balance",value:"-"}),(0,s.jsx)(u,{title:"Members",value:"-"})]})}function u(e){let{title:t,value:a}=e;return(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"pb-2",children:(0,s.jsx)(n.ZB,{className:"text-sm font-medium",children:t})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:a})})]})}},6394:(e,t,a)=>{"use strict";a.d(t,{hO:()=>i,sG:()=>o});var s=a(2149),r=a(4632),l=a(5327),n=a(8081),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=(0,l.TL)(`Primitive.${t}`),r=s.forwardRef((e,s)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?a:t,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},6849:(e,t,a)=>{Promise.resolve().then(a.bind(a,3598)),Promise.resolve().then(a.bind(a,6185)),Promise.resolve().then(a.bind(a,1801)),Promise.resolve().then(a.bind(a,6111)),Promise.resolve().then(a.bind(a,8928))},7101:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1018).A)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]])},8337:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(2149),r=a(8081);function l(e,t=[]){let a=[],n=()=>{let t=a.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return n.scopeName=e,[function(t,l){let n=s.createContext(l),o=a.length;a=[...a,l];let i=t=>{let{scope:a,children:l,...i}=t,c=a?.[e]?.[o]||n,u=s.useMemo(()=>i,Object.values(i));return(0,r.jsx)(c.Provider,{value:u,children:l})};return i.displayName=t+"Provider",[i,function(a,r){let i=r?.[e]?.[o]||n,c=s.useContext(i);if(c)return c;if(void 0!==l)return l;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(n,...t)]}},8928:(e,t,a)=>{"use strict";a.d(t,{TreasuryOverview:()=>A});var s=a(8081),r=a(2149),l=a(8949),n=a(6810),o=a(8337),i=a(6394),c="Progress",[u,d]=(0,o.A)(c),[m,f]=u(c),x=r.forwardRef((e,t)=>{var a,r,l,n;let{__scopeProgress:o,value:c=null,max:u,getValueLabel:d=p,...f}=e;(u||0===u)&&!g(u)&&console.error((a="".concat(u),r="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=g(u)?u:100;null===c||w(c,x)||console.error((l="".concat(c),n="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let v=w(c,x)?c:null,h=j(v)?d(v,x):void 0;return(0,s.jsx)(m,{scope:o,value:v,max:x,children:(0,s.jsx)(i.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":j(v)?v:void 0,"aria-valuetext":h,role:"progressbar","data-state":N(v,x),"data-value":null!=v?v:void 0,"data-max":x,...f,ref:t})})});x.displayName=c;var v="ProgressIndicator",h=r.forwardRef((e,t)=>{var a;let{__scopeProgress:r,...l}=e,n=f(v,r);return(0,s.jsx)(i.sG.div,{"data-state":N(n.value,n.max),"data-value":null!==(a=n.value)&&void 0!==a?a:void 0,"data-max":n.max,...l,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function N(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function j(e){return"number"==typeof e}function g(e){return j(e)&&!isNaN(e)&&e>0}function w(e,t){return j(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=v;var b=a(7687);let y=r.forwardRef((e,t)=>{let{className:a,value:r,...l}=e;return(0,s.jsx)(x,{ref:t,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,s.jsx)(h,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});y.displayName=x.displayName;var P=a(8721),E=a(604),I=a(7101);function A(){let{contract:e,isConnected:t}=(0,l.$)(),[a,o]=(0,r.useState)({balance:BigInt(0),inflow:BigInt(0),outflow:BigInt(0)}),[i,c]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async function(){if(e&&t)try{c(!0);try{let t=await e.getTreasuryInfo();o({balance:t[0],inflow:t[1],outflow:t[2]})}catch(e){console.error("Error fetching treasury info from contract:",e),o({balance:BigInt(0),inflow:BigInt(0),outflow:BigInt(0)})}}catch(e){console.error("Error fetching treasury info:",e)}finally{c(!1)}})()},[e,t]),i)return(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(P.E,{className:"h-4 w-1/2"}),(0,s.jsx)(P.E,{className:"h-8 w-full"}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)(P.E,{className:"h-16 w-1/2"}),(0,s.jsx)(P.E,{className:"h-16 w-1/2"})]})]})})});let u=Number(a.inflow)+Number(a.outflow),d=u>0?Number(a.inflow)/u*100:50;return(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Current Balance"}),(0,s.jsxs)("p",{className:"text-2xl font-bold",children:[(0,b.ck)(a.balance)," ETH"]})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Monthly Cash Flow"}),(0,s.jsx)(y,{value:d,className:"h-2"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Inflow"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(E.A,{className:"h-4 w-4 text-green-500 mr-1"}),(0,s.jsxs)("span",{className:"font-medium",children:[(0,b.ck)(a.inflow)," ETH"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Outflow"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(I.A,{className:"h-4 w-4 text-red-500 mr-1"}),(0,s.jsxs)("span",{className:"font-medium",children:[(0,b.ck)(a.outflow)," ETH"]})]})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[671,147,35,842,497,954,358],()=>t(6849)),_N_E=e.O()}]);